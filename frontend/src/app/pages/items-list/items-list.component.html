<div
  class="items-list"
  infiniteScroll
  [infiniteScrollDistance]="2"
  [infiniteScrollThrottle]="300"
  [infiniteScrollDisabled]="loading || !hasNextPage"
  (scrolled)="onScrollDown()"
>
  @if (items$ | async; as items) {
    @if (items.length > 0) {
      @for (item of items; track item.id) {
        <app-list-item [item]="item"></app-list-item>
      }
    } @else {
      <div class="no-items">No products available</div>
    }
  }

  @if (loading) {
    <div class="loading">Loading products...</div>
  }

  @if (!hasNextPage && (items$ | async)?.length) {
    <div class="end-message">No more products to load</div>
  }
</div>
